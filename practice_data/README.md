This is a set of example data for figuring out the needed PhyCoMB database structure.

Most of this was assembled using code that I think will be useful for future contributors.
It is in the [`phycombR`](https://github.com/phylosdd/PhyCoMB/tree/master/phycombR) package (which is currently one directory above this one).

Two sorts of content are mixed together here, though I tried to keep them as separate as possible.
(1) Content that should be included in the real database/website.
(2) Content that I needed to make (1), or for (1) to make sense.
Most of (2) is in `phycombR`, but it also includes some things noted below.

Below, when I say "included in the database structure" I mean part of the eventual PhyCoMB database that users interact with through a web interface.
When I say "interacting with the downloaded database" I am envisioning contributors creating and using content on their own computers (e.g., writing a new Method and running it on some Elements) before they upload clean versions to the real database structure.
(We need to figure out a way to make this efficient, though, so not everyone needs to download everything all the time.)


# Trees

Each directory named `T-xxxxx` is a _Tree_ object.
Each `.tre` file in there is a Newick file for a single tree.
The way those `.tre` files were made is explained in the `script.R` file.
I think everything in each `T-xxxxx` should be included in the database structure.


# Traits

Each directory named `A-xxxxx` is a _Trait_ object.
Each `.csv` file in there is one set of trait values per species.
The way those `.csv` files were made is explained in the `script.R` or `source.txt` file.
I think everything in each `A-xxxxx` should be included in the database structure.


# Elements

Each directory named `E-xxxxx` is a _Element_ object.
It is composed of one _Tree_ and one _Trait_.
These could simply be links in the database, except for one complication: the number of items in the given `T-xxxxx` and `A-xxxxx` might not match (in number or name).
It therefore seemed best to copy over items from the corresponding `T-xxxxx` and `A-xxxxx` directories, renaming and duplicating as necessary.
The `assemble.R` script does this.
For the real database, I think we might not need to store all these redundant `.tre` and `.csv` files---they could be generated by a script when a user is interacting with the downloaded database.


# Methods

Each directory named `M-xxxxx` is a _Method_.
It is a script that has a specific structure (determined by `run_method()` in `phycombR`; we could eventually have non-R equivalents).
(Sometimes there are also more associated files, like function definitions.
Eventually these should be share-able across methods, but I'm not sure how yet.)
I think everything in each `M-xxxxx` should be included in the database structure.


# Results

Each time a _Method_ is run on an _Element_, one `.csv` file is generated in the `Results/` directory.
The structure of each file there is the same.
I think the database structure should not store these `.csv` files explicitly.
Instead, a contributor would upload files like this and they would be incorporated into the database's own results table.
It is possible that we could reduce the level of detail stored, so that it is a single number for each Method-Element combination (i.e., the proportion of `TRUE` in each current `.csv` file).
But for now it seems like it might be useful to know which specific items failed.


# Other stuff

The `tables.html` file provides information on the various levels of organization:

  * Mapping between _Trees_, _Traits_, and _Elements_.  This is the same information as in the `assemble.R` files.
  * Metadata for the components (NumItems, Type, Comment, etc.)  I could fill this out more thoroughly if it would help.
  * Definitions of _ReferenceSets_ and _BenchmarkSets_ and their relations to _Elements_.  This information is not present elsewhere in this example data.  It may not be clear from these few examples, but in general:
    - Each _Element_ will belong to one or more _ReferenceSets_.  There will be many _ReferenceSets_.  The main purpose of these is to provide a natural grouping of _Elements_ as they are contributed (e.g., I have an idea and run 10 tests of it).
    - Some _Elements_ will belong to one or more _BenchmarkSets_.  There will be many fewer _BenchmarkSets_ than _ReferenceSets_.  It could be that the entire contents of a _ReferenceSet_ will be in the same _BenchmarkSet_, but most of the time it will just be select _Elements_.  The main purpose of these is to provide a small sample of tests chosen to be effective together.
    - There will be only a handful of _Tasks_.  Each will consist of several _BenchmarkSets_.

The `report.R` file is a placeholder for now.
I could fill it in to produce summaries of the results, to illustrate how it would be nice for users to browse on the database website eventually.

In `downloads/` are files that were obtained from elsewhere.
They are not directly useable for our analyses, but they are the raw material for some Trees or Traits.
I think they don't need to be in the database structure if they can be obtained by a script when a user is interacting with the downloaded database.

The `run.R` script is what I used to run each _Method_ on each _Element_.
Probably no need for this in the database structure.
